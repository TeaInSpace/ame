{{- if .Values.crds.install }}
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: projects.ame.teainspace.com
spec:
  group: ame.teainspace.com
  names:
    categories: []
    kind: Project
    plural: projects
    shortNames:
    - proj
    singular: project
  scope: Namespaced
  versions:
  - additionalPrinterColumns: []
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: Auto-generated derived type for ProjectSpec via `CustomResource`
        properties:
          spec:
            properties:
              dataSets:
                items:
                  properties:
                    name:
                      type: string
                    path:
                      type: string
                    size:
                      nullable: true
                      type: string
                    task:
                      nullable: true
                      properties:
                        artifactCfg:
                          nullable: true
                          properties:
                            paths:
                              default: []
                              items:
                                type: string
                              type: array
                            saveChangedFiles:
                              type: boolean
                          required:
                          - saveChangedFiles
                          type: object
                        dataSets:
                          items:
                            type: string
                          type: array
                        env:
                          default: []
                          items:
                            properties:
                              key:
                                type: string
                              val:
                                type: string
                            required:
                            - key
                            - val
                            type: object
                          type: array
                        executor:
                          nullable: true
                          oneOf:
                          - required:
                            - poetry
                          - required:
                            - mlflow
                          - required:
                            - pipEnv
                          - required:
                            - pip
                          - required:
                            - custom
                          properties:
                            custom:
                              properties:
                                command:
                                  type: string
                                pythonVersion:
                                  type: string
                              required:
                              - command
                              - pythonVersion
                              type: object
                            mlflow:
                              type: object
                            pip:
                              properties:
                                command:
                                  type: string
                                pythonVersion:
                                  type: string
                              required:
                              - command
                              - pythonVersion
                              type: object
                            pipEnv:
                              properties:
                                command:
                                  type: string
                              required:
                              - command
                              type: object
                            poetry:
                              properties:
                                command:
                                  type: string
                                pythonVersion:
                                  type: string
                              required:
                              - command
                              - pythonVersion
                              type: object
                          type: object
                        fromTemplate:
                          nullable: true
                          properties:
                            name:
                              type: string
                            project:
                              nullable: true
                              type: string
                          required:
                          - name
                          type: object
                        name:
                          nullable: true
                          type: string
                        resources:
                          additionalProperties:
                            type: string
                          default: {}
                          type: object
                        secrets:
                          default: []
                          items:
                            oneOf:
                            - required:
                              - ame
                            properties:
                              ame:
                                properties:
                                  injectAs:
                                    type: string
                                  key:
                                    type: string
                                required:
                                - injectAs
                                - key
                                type: object
                            type: object
                          type: array
                        taskRef:
                          nullable: true
                          properties:
                            name:
                              type: string
                            project:
                              nullable: true
                              type: string
                          required:
                          - name
                          type: object
                        triggers:
                          nullable: true
                          properties:
                            schedule:
                              nullable: true
                              type: string
                          type: object
                      type: object
                  required:
                  - name
                  - path
                  type: object
                type: array
              deletionApproved:
                type: boolean
              enableTriggers:
                nullable: true
                type: boolean
              models:
                items:
                  properties:
                    deployment:
                      nullable: true
                      properties:
                        enableTls:
                          nullable: true
                          type: boolean
                        image:
                          nullable: true
                          type: string
                        ingressAnnotations:
                          additionalProperties:
                            type: string
                          default: {}
                          type: object
                        replicas:
                          format: int32
                          nullable: true
                          type: integer
                        resources:
                          additionalProperties:
                            type: string
                          default: {}
                          type: object
                      type: object
                    name:
                      type: string
                    training:
                      nullable: true
                      properties:
                        task:
                          nullable: true
                          properties:
                            artifactCfg:
                              nullable: true
                              properties:
                                paths:
                                  default: []
                                  items:
                                    type: string
                                  type: array
                                saveChangedFiles:
                                  type: boolean
                              required:
                              - saveChangedFiles
                              type: object
                            dataSets:
                              items:
                                type: string
                              type: array
                            env:
                              default: []
                              items:
                                properties:
                                  key:
                                    type: string
                                  val:
                                    type: string
                                required:
                                - key
                                - val
                                type: object
                              type: array
                            executor:
                              nullable: true
                              oneOf:
                              - required:
                                - poetry
                              - required:
                                - mlflow
                              - required:
                                - pipEnv
                              - required:
                                - pip
                              - required:
                                - custom
                              properties:
                                custom:
                                  properties:
                                    command:
                                      type: string
                                    pythonVersion:
                                      type: string
                                  required:
                                  - command
                                  - pythonVersion
                                  type: object
                                mlflow:
                                  type: object
                                pip:
                                  properties:
                                    command:
                                      type: string
                                    pythonVersion:
                                      type: string
                                  required:
                                  - command
                                  - pythonVersion
                                  type: object
                                pipEnv:
                                  properties:
                                    command:
                                      type: string
                                  required:
                                  - command
                                  type: object
                                poetry:
                                  properties:
                                    command:
                                      type: string
                                    pythonVersion:
                                      type: string
                                  required:
                                  - command
                                  - pythonVersion
                                  type: object
                              type: object
                            fromTemplate:
                              nullable: true
                              properties:
                                name:
                                  type: string
                                project:
                                  nullable: true
                                  type: string
                              required:
                              - name
                              type: object
                            name:
                              nullable: true
                              type: string
                            resources:
                              additionalProperties:
                                type: string
                              default: {}
                              type: object
                            secrets:
                              default: []
                              items:
                                oneOf:
                                - required:
                                  - ame
                                properties:
                                  ame:
                                    properties:
                                      injectAs:
                                        type: string
                                      key:
                                        type: string
                                    required:
                                    - injectAs
                                    - key
                                    type: object
                                type: object
                              type: array
                            taskRef:
                              nullable: true
                              properties:
                                name:
                                  type: string
                                project:
                                  nullable: true
                                  type: string
                              required:
                              - name
                              type: object
                            triggers:
                              nullable: true
                              properties:
                                schedule:
                                  nullable: true
                                  type: string
                              type: object
                          type: object
                      type: object
                    validationTask:
                      nullable: true
                      properties:
                        artifactCfg:
                          nullable: true
                          properties:
                            paths:
                              default: []
                              items:
                                type: string
                              type: array
                            saveChangedFiles:
                              type: boolean
                          required:
                          - saveChangedFiles
                          type: object
                        dataSets:
                          items:
                            type: string
                          type: array
                        env:
                          default: []
                          items:
                            properties:
                              key:
                                type: string
                              val:
                                type: string
                            required:
                            - key
                            - val
                            type: object
                          type: array
                        executor:
                          nullable: true
                          oneOf:
                          - required:
                            - poetry
                          - required:
                            - mlflow
                          - required:
                            - pipEnv
                          - required:
                            - pip
                          - required:
                            - custom
                          properties:
                            custom:
                              properties:
                                command:
                                  type: string
                                pythonVersion:
                                  type: string
                              required:
                              - command
                              - pythonVersion
                              type: object
                            mlflow:
                              type: object
                            pip:
                              properties:
                                command:
                                  type: string
                                pythonVersion:
                                  type: string
                              required:
                              - command
                              - pythonVersion
                              type: object
                            pipEnv:
                              properties:
                                command:
                                  type: string
                              required:
                              - command
                              type: object
                            poetry:
                              properties:
                                command:
                                  type: string
                                pythonVersion:
                                  type: string
                              required:
                              - command
                              - pythonVersion
                              type: object
                          type: object
                        fromTemplate:
                          nullable: true
                          properties:
                            name:
                              type: string
                            project:
                              nullable: true
                              type: string
                          required:
                          - name
                          type: object
                        name:
                          nullable: true
                          type: string
                        resources:
                          additionalProperties:
                            type: string
                          default: {}
                          type: object
                        secrets:
                          default: []
                          items:
                            oneOf:
                            - required:
                              - ame
                            properties:
                              ame:
                                properties:
                                  injectAs:
                                    type: string
                                  key:
                                    type: string
                                required:
                                - injectAs
                                - key
                                type: object
                            type: object
                          type: array
                        taskRef:
                          nullable: true
                          properties:
                            name:
                              type: string
                            project:
                              nullable: true
                              type: string
                          required:
                          - name
                          type: object
                        triggers:
                          nullable: true
                          properties:
                            schedule:
                              nullable: true
                              type: string
                          type: object
                      type: object
                  required:
                  - name
                  type: object
                type: array
              name:
                type: string
              tasks:
                default: []
                items:
                  properties:
                    artifactCfg:
                      nullable: true
                      properties:
                        paths:
                          default: []
                          items:
                            type: string
                          type: array
                        saveChangedFiles:
                          type: boolean
                      required:
                      - saveChangedFiles
                      type: object
                    dataSets:
                      items:
                        type: string
                      type: array
                    env:
                      default: []
                      items:
                        properties:
                          key:
                            type: string
                          val:
                            type: string
                        required:
                        - key
                        - val
                        type: object
                      type: array
                    executor:
                      nullable: true
                      oneOf:
                      - required:
                        - poetry
                      - required:
                        - mlflow
                      - required:
                        - pipEnv
                      - required:
                        - pip
                      - required:
                        - custom
                      properties:
                        custom:
                          properties:
                            command:
                              type: string
                            pythonVersion:
                              type: string
                          required:
                          - command
                          - pythonVersion
                          type: object
                        mlflow:
                          type: object
                        pip:
                          properties:
                            command:
                              type: string
                            pythonVersion:
                              type: string
                          required:
                          - command
                          - pythonVersion
                          type: object
                        pipEnv:
                          properties:
                            command:
                              type: string
                          required:
                          - command
                          type: object
                        poetry:
                          properties:
                            command:
                              type: string
                            pythonVersion:
                              type: string
                          required:
                          - command
                          - pythonVersion
                          type: object
                      type: object
                    fromTemplate:
                      nullable: true
                      properties:
                        name:
                          type: string
                        project:
                          nullable: true
                          type: string
                      required:
                      - name
                      type: object
                    name:
                      nullable: true
                      type: string
                    resources:
                      additionalProperties:
                        type: string
                      default: {}
                      type: object
                    secrets:
                      default: []
                      items:
                        oneOf:
                        - required:
                          - ame
                        properties:
                          ame:
                            properties:
                              injectAs:
                                type: string
                              key:
                                type: string
                            required:
                            - injectAs
                            - key
                            type: object
                        type: object
                      type: array
                    taskRef:
                      nullable: true
                      properties:
                        name:
                          type: string
                        project:
                          nullable: true
                          type: string
                      required:
                      - name
                      type: object
                    triggers:
                      nullable: true
                      properties:
                        schedule:
                          nullable: true
                          type: string
                      type: object
                  type: object
                type: array
              templates:
                items:
                  properties:
                    artifactCfg:
                      nullable: true
                      properties:
                        paths:
                          default: []
                          items:
                            type: string
                          type: array
                        saveChangedFiles:
                          type: boolean
                      required:
                      - saveChangedFiles
                      type: object
                    dataSets:
                      items:
                        type: string
                      type: array
                    env:
                      default: []
                      items:
                        properties:
                          key:
                            type: string
                          val:
                            type: string
                        required:
                        - key
                        - val
                        type: object
                      type: array
                    executor:
                      nullable: true
                      oneOf:
                      - required:
                        - poetry
                      - required:
                        - mlflow
                      - required:
                        - pipEnv
                      - required:
                        - pip
                      - required:
                        - custom
                      properties:
                        custom:
                          properties:
                            command:
                              type: string
                            pythonVersion:
                              type: string
                          required:
                          - command
                          - pythonVersion
                          type: object
                        mlflow:
                          type: object
                        pip:
                          properties:
                            command:
                              type: string
                            pythonVersion:
                              type: string
                          required:
                          - command
                          - pythonVersion
                          type: object
                        pipEnv:
                          properties:
                            command:
                              type: string
                          required:
                          - command
                          type: object
                        poetry:
                          properties:
                            command:
                              type: string
                            pythonVersion:
                              type: string
                          required:
                          - command
                          - pythonVersion
                          type: object
                      type: object
                    fromTemplate:
                      nullable: true
                      properties:
                        name:
                          type: string
                        project:
                          nullable: true
                          type: string
                      required:
                      - name
                      type: object
                    name:
                      nullable: true
                      type: string
                    resources:
                      additionalProperties:
                        type: string
                      default: {}
                      type: object
                    secrets:
                      default: []
                      items:
                        oneOf:
                        - required:
                          - ame
                        properties:
                          ame:
                            properties:
                              injectAs:
                                type: string
                              key:
                                type: string
                            required:
                            - injectAs
                            - key
                            type: object
                        type: object
                      type: array
                    taskRef:
                      nullable: true
                      properties:
                        name:
                          type: string
                        project:
                          nullable: true
                          type: string
                      required:
                      - name
                      type: object
                    triggers:
                      nullable: true
                      properties:
                        schedule:
                          nullable: true
                          type: string
                      type: object
                  type: object
                type: array
            required:
            - deletionApproved
            - name
            type: object
          status:
            nullable: true
            properties:
              models:
                additionalProperties:
                  properties:
                    latestValidatedModelVersion:
                      nullable: true
                      type: string
                  type: object
                type: object
            required:
            - models
            type: object
        required:
        - spec
        title: Project
        type: object
    served: true
    storage: true
    subresources:
      status: {}
{{- end }}